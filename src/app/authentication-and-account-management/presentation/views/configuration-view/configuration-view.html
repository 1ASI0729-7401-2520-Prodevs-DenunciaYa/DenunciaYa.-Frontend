<div class="config-container">
  <div class="config-content">

    <div class="config-left">
      <h1>{{ 'CONFIGURATION.TITLE' | translate }}</h1>
      <p class="subtitle">
        {{ 'CONFIGURATION.SUBTITLE' | translate }}
      </p>

      <h2 class="section-title">{{ 'CONFIGURATION.NOTIFICATION_PREFERENCES' | translate }}</h2>

      <form [formGroup]="configForm" [attr.aria-label]="'CONFIGURATION.ARIA_LABELS.FORM' | translate">
        <div class="option">
          <div class="option-text">
            <h3>{{ 'CONFIGURATION.EMAIL_NOTIFICATIONS.TITLE' | translate }}</h3>
            <p>{{ 'CONFIGURATION.EMAIL_NOTIFICATIONS.DESCRIPTION' | translate }}</p>
          </div>
          <mat-slide-toggle
            formControlName="emailNotifications"
            color="primary"
            [attr.aria-label]="'CONFIGURATION.ARIA_LABELS.EMAIL_TOGGLE' | translate"
          ></mat-slide-toggle>
        </div>

        <div class="option">
          <div class="option-text">
            <h3>{{ 'CONFIGURATION.SMS_NOTIFICATIONS.TITLE' | translate }}</h3>
            <p>{{ 'CONFIGURATION.SMS_NOTIFICATIONS.DESCRIPTION' | translate }}</p>
          </div>
          <mat-slide-toggle
            formControlName="smsNotifications"
            color="primary"
            [attr.aria-label]="'CONFIGURATION.ARIA_LABELS.SMS_TOGGLE' | translate"
          ></mat-slide-toggle>
        </div>

        <div class="option">
          <div class="option-text">
            <h3>{{ 'CONFIGURATION.LANGUAGE.TITLE' | translate }}</h3>
            <p>{{ 'CONFIGURATION.LANGUAGE.DESCRIPTION' | translate }}</p>
          </div>
          <mat-form-field
            appearance="fill"
            class="language-field"
            [attr.aria-label]="'CONFIGURATION.ARIA_LABELS.LANGUAGE_FIELD' | translate"
          >
            <mat-select
              formControlName="language"
              [attr.aria-label]="'CONFIGURATION.ARIA_LABELS.LANGUAGE_SELECT' | translate"
            >
              <mat-option value="en">{{ 'CONFIGURATION.LANGUAGE.EN' | translate }}</mat-option>
              <mat-option value="es">{{ 'CONFIGURATION.LANGUAGE.ES' | translate }}</mat-option>
            </mat-select>
          </mat-form-field>
        </div>

        <button
          mat-flat-button
          color="primary"
          class="save-btn"
          [attr.aria-label]="'CONFIGURATION.ARIA_LABELS.SAVE_BUTTON' | translate"
          (click)="onSaveChanges()"
        >
          {{ 'CONFIGURATION.BUTTONS.SAVE_CHANGES' | translate }}
        </button>
      </form>
    </div>

    <div class="config-right" [attr.aria-label]="'CONFIGURATION.ARIA_LABELS.RIGHT_PANEL' | translate">

      <div *ngIf="userRole === 'authority'" class="selected-plan-card">
        <h3>{{ selectedPlan === 'premium' ? ('CONFIGURATION.PLANS.PREMIUM' | translate) : ('CONFIGURATION.PLANS.BASIC' | translate) }} {{ 'CONFIGURATION.PLANS.PLAN' | translate }}</h3>
        <p class="plan-price">
          {{ selectedPlan === 'premium' ? ('CONFIGURATION.PLANS.PRICE_PREMIUM' | translate) : ('CONFIGURATION.PLANS.PRICE_BASIC' | translate) }}
        </p>
        <ul class="plan-features">
          <li *ngIf="selectedPlan === 'basic'">{{ 'CONFIGURATION.FEATURES.BASIC.0' | translate }}</li>
          <li *ngIf="selectedPlan === 'basic'">{{ 'CONFIGURATION.FEATURES.BASIC.1' | translate }}</li>
          <li *ngIf="selectedPlan === 'basic'">{{ 'CONFIGURATION.FEATURES.BASIC.2' | translate }}</li>

          <li *ngIf="selectedPlan === 'premium'">{{ 'CONFIGURATION.FEATURES.PREMIUM.0' | translate }}</li>
          <li *ngIf="selectedPlan === 'premium'">{{ 'CONFIGURATION.FEATURES.PREMIUM.1' | translate }}</li>
          <li *ngIf="selectedPlan === 'premium'">{{ 'CONFIGURATION.FEATURES.PREMIUM.2' | translate }}</li>
          <li *ngIf="selectedPlan === 'premium'">{{ 'CONFIGURATION.FEATURES.PREMIUM.3' | translate }}</li>
          <li *ngIf="selectedPlan === 'premium'">{{ 'CONFIGURATION.FEATURES.PREMIUM.4' | translate }}</li>
          <li *ngIf="selectedPlan === 'premium'">{{ 'CONFIGURATION.FEATURES.PREMIUM.5' | translate }}</li>
        </ul>

        <button
          mat-flat-button
          color="primary"
          class="update-btn"
          (click)="navigateToPlans()"
          [attr.aria-label]="'CONFIGURATION.ARIA_LABELS.UPDATE_PLAN' | translate"
        >
          {{ 'CONFIGURATION.PLANS.UPDATE_BUTTON' | translate }}
        </button>
      </div>

      <img
        *ngIf="userRole === 'citizen'"
        src="/assets/images/configuration.png"
        [alt]="'CONFIGURATION.IMAGE_ALT' | translate"
      />
    </div>
  </div>
</div>
