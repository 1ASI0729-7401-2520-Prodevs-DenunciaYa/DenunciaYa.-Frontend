<div class="support-container">
  <h1 class="support-title">{{ 'SUPPORT.TITLE' | translate }}</h1>

  <h2 class="section-title">{{ 'SUPPORT.FAQS' | translate }}</h2>

  <mat-accordion class="faq-accordion">
    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title>
          {{ 'SUPPORT.FAQ_ITEMS.HOW_TO_COMPLAIN.QUESTION' | translate }}
        </mat-panel-title>
      </mat-expansion-panel-header>
      <p>{{ 'SUPPORT.FAQ_ITEMS.HOW_TO_COMPLAIN.ANSWER' | translate }}</p>
    </mat-expansion-panel>

    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title>
          {{ 'SUPPORT.FAQ_ITEMS.VIEW_STATUS.QUESTION' | translate }}
        </mat-panel-title>
      </mat-expansion-panel-header>
      <p>{{ 'SUPPORT.FAQ_ITEMS.VIEW_STATUS.ANSWER' | translate }}</p>
    </mat-expansion-panel>

    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title>
          {{ 'SUPPORT.FAQ_ITEMS.EDIT_COMPLAINT.QUESTION' | translate }}
        </mat-panel-title>
      </mat-expansion-panel-header>
      <p>{{ 'SUPPORT.FAQ_ITEMS.EDIT_COMPLAINT.ANSWER' | translate }}</p>
    </mat-expansion-panel>

    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title>
          {{ 'SUPPORT.FAQ_ITEMS.NOTIFICATION_PREFERENCES.QUESTION' | translate }}
        </mat-panel-title>
      </mat-expansion-panel-header>
      <p>{{ 'SUPPORT.FAQ_ITEMS.NOTIFICATION_PREFERENCES.ANSWER' | translate }}</p>
    </mat-expansion-panel>

    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title>
          {{ 'SUPPORT.FAQ_ITEMS.FORGOT_PASSWORD.QUESTION' | translate }}
        </mat-panel-title>
      </mat-expansion-panel-header>
      <p>{{ 'SUPPORT.FAQ_ITEMS.FORGOT_PASSWORD.ANSWER' | translate }}</p>
    </mat-expansion-panel>
  </mat-accordion>

  <div class="contact-section">
    <h2 class="section-title">{{ 'SUPPORT.CONTACT.TITLE' | translate }}</h2>
    <h3>{{ 'SUPPORT.CONTACT.PRIMARY_TECH_SUPPORT' | translate }}</h3>
    <p>soporte-tecnico@plataformadenuncias.dy.pe</p>
    <h3>{{ 'SUPPORT.CONTACT.EMERGENCY_SUPPORT' | translate }}</h3>
    <p>soporte-urgente@plataformadenuncias.dy.pe</p>
    <p class="contact-description">
      {{ 'SUPPORT.CONTACT.DESCRIPTION' | translate }}
    </p>

    <form [formGroup]="supportForm" (ngSubmit)="submitSupportRequest()" class="support-form">
      <div class="form-row">
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>{{ 'SUPPORT.FORM.SUBJECT.LABEL' | translate }}</mat-label>
          <mat-select formControlName="subject">
            <mat-option value="">{{ 'SUPPORT.FORM.SUBJECT.PLACEHOLDER' | translate }}</mat-option>
            <mat-option value="technical">{{ 'SUPPORT.FORM.SUBJECT.OPTIONS.TECHNICAL' | translate }}</mat-option>
            <mat-option value="complaint">{{ 'SUPPORT.FORM.SUBJECT.OPTIONS.COMPLAINT' | translate }}</mat-option>
            <mat-option value="account">{{ 'SUPPORT.FORM.SUBJECT.OPTIONS.ACCOUNT' | translate }}</mat-option>
            <mat-option value="other">{{ 'SUPPORT.FORM.SUBJECT.OPTIONS.OTHER' | translate }}</mat-option>
          </mat-select>
          <mat-error *ngIf="supportForm.get('subject')?.hasError('required')">
            {{ 'SUPPORT.FORM.SUBJECT.ERRORS.REQUIRED' | translate }}
          </mat-error>
        </mat-form-field>
      </div>

      <div class="form-row">
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>{{ 'SUPPORT.FORM.COMPLAINT_NUMBER.LABEL' | translate }}</mat-label>
          <input matInput formControlName="complaintNumber" [placeholder]="'SUPPORT.FORM.COMPLAINT_NUMBER.PLACEHOLDER' | translate">
        </mat-form-field>
      </div>

      <div class="form-row">
        <mat-form-field appearance="outline" class="form-field full-width">
          <mat-label>{{ 'SUPPORT.FORM.MESSAGE.LABEL' | translate }}</mat-label>
          <textarea
            matInput
            formControlName="message"
            [placeholder]="'SUPPORT.FORM.MESSAGE.PLACEHOLDER' | translate"
            rows="5">
          </textarea>
          <mat-error *ngIf="supportForm.get('message')?.hasError('required')">
            {{ 'SUPPORT.FORM.MESSAGE.ERRORS.REQUIRED' | translate }}
          </mat-error>
          <mat-error *ngIf="supportForm.get('message')?.hasError('minlength')">
            {{ 'SUPPORT.FORM.MESSAGE.ERRORS.MINLENGTH' | translate }}
          </mat-error>
        </mat-form-field>
      </div>

      <div class="form-actions">
        <button
          mat-raised-button
          color="primary"
          type="submit"
          [disabled]="supportForm.invalid"
          class="submit-button">
          {{ 'SUPPORT.FORM.SUBMIT_BUTTON' | translate }}
        </button>
      </div>
    </form>
  </div>
</div>
