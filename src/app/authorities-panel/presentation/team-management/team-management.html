<div class="team-container">
  <h2>{{ 'Team Management' | translate }}</h2>

  @if (filteredResponsibles.length > 0) {
    <table class="team-table">
      <thead>
      <tr>
        <th>{{ 'Responsible' | translate }}</th>
        <th>{{ 'Case Number' | translate }}</th>
        <th>{{ 'Category' | translate }}</th>
        <th>{{ 'Assignment' | translate }}</th>
      </tr>
      </thead>
      <tbody>
        @for (r of filteredResponsibles; track r.id) {
          <tr>
            <td>{{ r.firstName }} {{ r.lastName }}</td>
            <td>{{ r.caseCount || '0' }}</td>
            <td>{{ r.category || ('Unassigned' | translate) }}</td>
            <td>
              <button class="assign-btn" (click)="assignComplaint(r)">
                {{ 'Assign complaint' | translate }}
              </button>
            </td>
          </tr>
        }
      </tbody>
    </table>
  } @else {
    <p class="empty-text">{{ 'No registered responsible' | translate }}</p>
  }
</div>
