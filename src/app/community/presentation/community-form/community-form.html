<mat-card class="form-card">
  <div class="form-container">
    <div class="avatar-icon">
      <mat-icon>person</mat-icon>
    </div>

    <div class="form-content">
      <mat-form-field class="full-width" appearance="outline">
        <textarea
          matInput
          [placeholder]="'POST_FORM.PLACEHOLDER' | translate"
          [(ngModel)]="content"
          rows="3">
        </textarea>
      </mat-form-field>

      <div *ngIf="imageUrl" class="image-preview">
        <img [src]="imageUrl" [alt]="'POST_FORM.IMAGE_PREVIEW_ALT' | translate" />
      </div>

      <div class="actions">
        <button
          mat-icon-button
          color="primary"
          (click)="fileInput.click()"
          [attr.aria-label]="'POST_FORM.ACTIONS.UPLOAD_IMAGE' | translate">
          <mat-icon>image</mat-icon>
        </button>
        <input
          #fileInput
          type="file"
          accept="image/*"
          (change)="handleImageUpload($event)"
          hidden />

        <button
          mat-flat-button
          color="primary"
          (click)="submitPost()"
          [disabled]="!content.trim() && !imageUrl">
          <mat-icon>send</mat-icon>
          {{ 'POST_FORM.ACTIONS.PUBLISH' | translate }}
        </button>
      </div>
    </div>
  </div>
</mat-card>
